{% load static %}
<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<!-- Slick Carousel CSS -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick-theme.css"/>

<div class="Test">
    <div class="Patients">
        <div class="quote-icon">
            <i class="fas fa-quote-left"></i>
        </div>
        <h4>What Our Happy Patients Say About Us</h4>
        <div class="divider-line"></div>
        <p>At our clinic, patient satisfaction is our top priority. We are proud to have helped thousands of individuals on their journey to better health. Their kind words and shared experiences reflect our commitment to compassionate, expert care.</p>        
    </div>
    
    <div class="slider">
        {% for testimonial in testimonials %}
        <div class="Image-container">
            <img src="{{ testimonial.image.url }}" alt="{{ testimonial.name }} Image" />
            <p>{{ testimonial.description }}</p>
            <h3>{{ testimonial.name }}</h3>
        </div>
        {% endfor %}
    </div>
</div>

<!-- jQuery + Slick JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.min.js"></script>

<script>
$(document).ready(function(){
    $('.slider').slick({
        slidesToShow: 3,
        slidesToScroll: 1,
        autoplay: true,
        autoplaySpeed: 2500,
        dots: true,
        infinite: true,
        arrows: false,
        responsive: [
            {
                breakpoint: 1024,
                settings: { slidesToShow: 2 }
            },
            {
                breakpoint: 768,
                settings: { slidesToShow: 1 }
            }
        ]
    });
});
</script>

<style>
.Test {
    text-align: center;
    padding: 60px 20px;
    margin-top: 150px;
}

.quote-icon {
    font-size: 40px;
    color: #365DBE;
    margin-bottom: 10px;
    animation: popIn 0.5s ease-out;
}

.Patients h4 {
    font-size: 32px;
    font-weight: 800;
    background: linear-gradient(90deg, #365DBE, #4A97CE);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 10px;
}

.divider-line {
    width: 60px;
    height: 4px;
    background-color: #4A97CE;
    margin: 0 auto 20px;
    border-radius: 4px;
}

.Patients p {
    font-size: 18px;
    color: rgb(0, 0, 0);
    margin-bottom: 30px;
    max-width: 800px;
    margin: 0 auto;
}

.Image-container {
    background: rgb(74, 151, 206);
    padding: 18px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    text-align: center;
    margin: 12px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    max-width: 280px;
    width: 100%;
}

.Image-container:hover {
    transform: translateY(-6px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
}

.Image-container img {
    width: 70px;
    height: 70px;
    object-fit: cover;
    border-radius: 50%;
    margin-bottom: 12px;
    border: 2px solid white;
}

.Image-container p {
    font-size: 16px;
    color: #fff;
    margin-bottom: 12px;
    line-height: 1.6;
}

.Image-container h3 {
    font-size: 17px;
    color: #fff;
    font-weight: 600;
}

.slick-dots {
    bottom: -30px;
}

.slick-dots li button:before {
    font-size: 12px;
    color: #aaa;
}

.slick-dots li.slick-active button:before {
    color: #ffcc00;
}

@keyframes popIn {
    from {
        transform: scale(0.8);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

@media (max-width: 1024px) {
    .Test {
        padding: 50px 15px;
        margin-top: 120px;
    }
    .Image-container {
        max-width: 85%;
        padding: 16px;
    }
}

@media (max-width: 768px) {
    .Test {
        padding: 40px 10px;
        margin-top: 100px;
    }
    .Patients h4 {
        font-size: 24px;
    }
    .Image-container {
        padding: 14px;
        max-width: 95%;
    }

    .Image-container img {
        width: 60px;
        height: 60px;
    }

    .Image-container p {
        font-size: 15px;
    }

    .Image-container h3 {
        font-size: 16px;
    }
}

@media (max-width: 480px) {
    .Test {
        padding: 30px 10px;
        margin-top: 80px;
    }
    .Patients h4 {
        font-size: 22px;
    }
    .Image-container {
        padding: 12px;
    }

    .Image-container img {
        width: 55px;
        height: 55px;
    }

    .Image-container p {
        font-size: 14px;
    }

    .Image-container h3 {
        font-size: 15px;
    }
}
</style>
