;/*FB_PKG_DELIM*/

__d("useMWPPresenceStatesForThread",["I64","LSIntEnum","MAWContactRelationshipType","MWPActor.react","ReQL","ReQLSuspense","WADbContact","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useMemo;function m(a){if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(1)))return!0;else return(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(15))}function n(a){if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(2)))return!0;else return(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(16))}function a(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return m(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.presence_states)).filter(function(a){a[0];a=a[1];return!(j||(j=d("I64"))).equal(a.contactId,e)}):d("ReQL").empty()},[e,b,a.threadKey,a.threadType],f.id+":73"),i=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(g[0].contactId):d("ReQL").empty()},[b,g],f.id+":86"),k=g!=null&&i!=null&&d("MAWContactRelationshipType").getContactRelationshipType(i)!==d("WADbContact").ONE_WAY_CONTACT?g[1]:void 0,o=d("ReQLSuspense").useArray(function(){return n(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.presence_states)).filter(function(a){a[0];a=a[1];return!(j||(j=d("I64"))).equal(a.contactId,e)}):d("ReQL").empty()},[b,a.threadKey,e,a.threadType],f.id+":100");return l(function(){return m(a.threadType)?{state:k,threadType:"canonical"}:{state:o,threadType:"group"}},[k,o,a.threadType])}g["default"]=a}),98);
__d("MWPThreadHasActiveUserUtils",["I64","ServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){return a!=null?(h||(h=d("I64"))).to_float(a)+h.to_float(b)>=d("ServerTime").getMillis():!1}function a(a){return(h||(h=d("I64"))).to_float(a)>d("ServerTime").getMillis()}function b(a){return i(a,(h||(h=d("I64"))).of_string("86400000"))}g.isMsTimestampNotExpired=a;g.isMsTimestampWithinPastDay=b}),98);
__d("useMWPThreadHasActiveUser",["I64","MWPThreadHasActiveUserUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useMemo;function a(a){return j(function(){if(a.threadType!=="canonical")return a.state.some(function(a){a[0];a=a[1];if(d("MWPThreadHasActiveUserUtils").isMsTimestampNotExpired(a.expirationTimestampMs))return(i||(i=d("I64"))).equal(a.status,i.of_string("2"));else return!1});var b=a.state;if(b!=null&&d("MWPThreadHasActiveUserUtils").isMsTimestampNotExpired(b.expirationTimestampMs))return(i||(i=d("I64"))).equal(b.status,i.of_string("2"));else return!1},[a])}g["default"]=a}),98);
__d("IGDInboxAvatarWrapper.react",["IGDAvatar.react","react","react-compiler-runtime","useMWPPresenceStatesForThread","useMWPThreadHasActiveUser"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(4),e=a.isMobile;a=a.thread;var f=c("useMWPPresenceStatesForThread")(a);f=c("useMWPThreadHasActiveUser")(f);e=e?"tiny":"medium";var g;b[0]!==f||b[1]!==e||b[2]!==a?(g=i.jsx(c("IGDAvatar.react"),{isActive:f,size:e,thread:a}),b[0]=f,b[1]=e,b[2]=a,b[3]=g):g=b[3];f=g;return f}g["default"]=a}),98);
__d("LSPresenceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFLINE:1,ACTIVE:2});f["default"]=a}),66);
__d("IGDPresenceTextForCanonicalThread",["fbt","FDSRelativeTimestamp.react","I64","LSIntEnum","LSPresenceStatus","MWPThreadHasActiveUserUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function m(a){var b=(a==null?void 0:a.expirationTimestampMs)?!d("MWPThreadHasActiveUserUtils").isMsTimestampNotExpired(a==null?void 0:a.expirationTimestampMs):!0;if(b)return{state:"inactive"};b=a!=null?(j||(j=d("I64"))).equal(a.status,(k||(k=d("LSIntEnum"))).ofNumber(c("LSPresenceStatus").ACTIVE)):!1;if(b)return{state:"active"};b=a==null?void 0:a.lastActiveTimestampMs;return b!=null&&d("MWPThreadHasActiveUserUtils").isMsTimestampWithinPastDay(b)?{lastActiveTimestampMs:b,state:"recently_active"}:{state:"inactive"}}function a(a){var b=d("react-compiler-runtime").c(4),e=a.inactiveSnippet;a=a.presenceState;var f;if(b[0]!==e||b[1]!==a){f=Symbol["for"]("react.early_return_sentinel");bb0:{var g=m(a);switch(g.state){case"active":var i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"__JHASH__8hpTChzyNvb__JHASH__"),b[3]=i):i=b[3];f=i;break bb0;case"recently_active":f=h._(/*BTDS*/"__JHASH__yVUdYKgAiR3__JHASH__",[h._param("time",l.jsx("span",{children:l.jsx(c("FDSRelativeTimestamp.react"),{date:new Date((j||(j=d("I64"))).to_float(g.lastActiveTimestampMs)),format:"minimized"})}))]);break bb0;default:f=e;break bb0}}b[0]=e;b[1]=a;b[2]=f}else f=b[2];if(f!==Symbol["for"]("react.early_return_sentinel"))return f}g.getCanonicalPresenceData=m;g.IGDPresenceTextForCanonicalThread=a}),226);
__d("IGDPresenceTextForGroupThread.react",["fbt","I64","LSIntEnum","LSPresenceStatus","MWPThreadHasActiveUserUtils","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react");function n(a){var b=[],e=0;for(var a=a,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;var i=h[0];h=h[1];var j=h.lastActiveTimestampMs,m=!d("MWPThreadHasActiveUserUtils").isMsTimestampNotExpired(h.expirationTimestampMs);if(m)continue;m=(k||(k=d("I64"))).equal(h.status,(l||(l=d("LSIntEnum"))).ofNumber(c("LSPresenceStatus").ACTIVE));h=j!=null?d("MWPThreadHasActiveUserUtils").isMsTimestampWithinPastDay(j):!1;m&&b.push(i);h&&(e+=1)}if(b.length===1){j=b[0];return{participant:j,state:"single_active_user"}}else if(b.length!==0)return{count:b.length,state:"active_users"};else if(e>0)return{count:e,state:"recently_active"};else return{state:"inactive"}}function o(a){var b=d("react-compiler-runtime").c(8);a=a.participant;var e=(i||(i=c("useReStore")))(),g=a.contactId;b[0]!==g||b[1]!==e.tables.contacts?(a=function(){return d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(g)},b[0]=g,b[1]=e.tables.contacts,b[2]=a):a=b[2];var j;b[3]!==g||b[4]!==e?(j=[e,g],b[3]=g,b[4]=e,b[5]=j):j=b[5];a=d("ReQLSuspense").useFirst(a,j,f.id+":109");if(a!=null){j=a.secondaryName;j=j!=null?j:a.name}else j=null;if(j==null)return null;b[6]!==j?(a=h._(/*BTDS*/"__JHASH__lZmgB-Ll2vc__JHASH__",[h._param("username",j)]),b[6]=j,b[7]=a):a=b[7];return a}function a(a){var b=d("react-compiler-runtime").c(8);a=a.presenceStates;var c;b[0]!==a?(c=n(a),b[0]=a,b[1]=c):c=b[1];a=c;switch(a.state){case"single_active_user":b[2]!==a.participant?(c=m.jsx(o,{participant:a.participant}),b[2]=a.participant,b[3]=c):c=b[3];return c;case"active_users":b[4]!==a.count?(c=h._(/*BTDS*/"__JHASH__nyD2lTMkH7-__JHASH__",[h._param("count",String(a.count))]),b[4]=a.count,b[5]=c):c=b[5];return c;case"recently_active":b[6]!==a.count?(c=h._(/*BTDS*/"__JHASH__VHWQfDmCIfu__JHASH__",[h._param("count",String(a.count))]),b[6]=a.count,b[7]=c):c=b[7];return c;default:return null}}g.getGroupPresenceData=n;g.IGDPresenceTextForGroupThread=a}),226);
__d("IGDPresenceTextForThread.react",["IGDPresenceTextForCanonicalThread","IGDPresenceTextForGroupThread.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.presenceState;if(a.threadType==="canonical"){var c;b[0]!==a.state?(c=i.jsx(d("IGDPresenceTextForCanonicalThread").IGDPresenceTextForCanonicalThread,{presenceState:a.state}),b[0]=a.state,b[1]=c):c=b[1];return c}else{b[2]!==a.state?(c=i.jsx(d("IGDPresenceTextForGroupThread.react").IGDPresenceTextForGroupThread,{presenceStates:a.state}),b[2]=a.state,b[3]=c):c=b[3];return c}}g["default"]=a}),98);
__d("IGDPresenceTextForThreadWrapper.react",["IGDPresenceTextForThread.react","IGDSBox.react","IGDSText.react","MWVerticalRhythm","react","react-compiler-runtime","useMWPPresenceStatesForThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.isMobile;a=a.thread;a=c("useMWPPresenceStatesForThread")(a);var f;b[0]!==e?(f=!e&&i.jsx(c("MWVerticalRhythm"),{height:4}),b[0]=e,b[1]=f):f=b[1];b[2]!==a?(e=i.jsx(c("IGDSBox.react"),{marginTop:1,children:i.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",weight:"normal",children:i.jsx(c("IGDPresenceTextForThread.react"),{presenceState:a})})}),b[2]=a,b[3]=e):e=b[3];b[4]!==f||b[5]!==e?(a=i.jsxs(i.Fragment,{children:[f,e]}),b[4]=f,b[5]=e,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("IGDThreadListItemContext.react",["MWPIsThreadUnread","react","react-compiler-runtime","useMWPIsThreadMuted","useMWPPresenceStatesForThread","useMWPThreadHasActiveUser"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h,k=j.createContext,l=j.useContext;j.useMemo;var m=k(!1),n=k(!1),o=k(void 0);function a(a){var b=d("react-compiler-runtime").c(16),e=a.children;a=a.thread;var f=c("useMWPIsThreadMuted")(a),g=c("useMWPPresenceStatesForThread")(a),h=c("useMWPThreadHasActiveUser")(g),j;b[0]!==h||b[1]!==g||b[2]!==a.lastActivityTimestampMs||b[3]!==a.snippet?(j={isActive:h,lastActivityTimestampMs:a.lastActivityTimestampMs,presenceState:g,snippet:a.snippet},b[0]=h,b[1]=g,b[2]=a.lastActivityTimestampMs,b[3]=a.snippet,b[4]=j):j=b[4];h=j;g=h;b[5]!==a?(j=d("MWPIsThreadUnread").isThreadUnread(a),b[5]=a,b[6]=j):j=b[6];b[7]!==e||b[8]!==g?(h=i.jsx(o.Provider,{value:g,children:e}),b[7]=e,b[8]=g,b[9]=h):h=b[9];b[10]!==f||b[11]!==h?(a=i.jsx(n.Provider,{value:f,children:h}),b[10]=f,b[11]=h,b[12]=a):a=b[12];b[13]!==j||b[14]!==a?(e=i.jsx(m.Provider,{value:j,children:a}),b[13]=j,b[14]=a,b[15]=e):e=b[15];return e}function b(){return l(m)}function e(){return l(n)}function f(){return l(o)}g.IGDThreadListItemContextProvider=a;g.useIGDThreadListItemIsUnread=b;g.useIGDThreadListItemIsMuted=e;g.useIGDThreadListItemActivity=f}),98);
__d("IGDThreadListItemEnd.react",["fbt","FDSBadge.react","IGDJoinButtonWithBlockCheck.react","IGDSAlertOffNewPanoOutline24Icon.react","IGDSBox.react","IGDThreadListItemContext.react","PolarisCallGatingHelpers","react","react-compiler-runtime","stylex","useOngoingCallServerInfoData"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={badge:{backgroundColor:"x1tu34mt",$$css:!0},endMargin:{marginEnd:"x1hwekxz",$$css:!0},muteIcon:{paddingEnd:"x1mpkggp",paddingStart:"x1t2a60a",$$css:!0},noShrink:{flexShrink:"x2lah0s",$$css:!0}};function m(a){var b=d("react-compiler-runtime").c(6),e=a.addEndMargin;a=a.isMuted;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"__JHASH__NCRbaa_g3bP__JHASH__"),b[0]=f):f=b[0];f=f;if(a){b[1]!==e?(a=(i||(i=c("stylex"))).props(l.muteIcon,e?l.endMargin:!1),b[1]=e,b[2]=a):a=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("IGDSAlertOffNewPanoOutline24Icon.react"),{alt:f,color:"ig-secondary-text",size:15}),b[3]=e):e=b[3];b[4]!==a?(f=k.jsx("div",babelHelpers["extends"]({},a,{children:e})),b[4]=a,b[5]=f):f=b[5];return f}return null}function n(a){var b=d("react-compiler-runtime").c(1);a=a.isUnread;if(a){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("FDSBadge.react"),{colorOverride:[l.badge]}),b[0]=a):a=b[0];return a}else return null}function a(a){var b=d("react-compiler-runtime").c(5);a=a.thread;var e=d("IGDThreadListItemContext.react").useIGDThreadListItemIsMuted(),f=d("IGDThreadListItemContext.react").useIGDThreadListItemIsUnread(),g=c("useOngoingCallServerInfoData")(a.threadKey);g=g!=null;var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=k.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"end",xstyle:l.noShrink,children:g&&d("PolarisCallGatingHelpers").isWebCallingEnabled()?k.jsx(c("IGDJoinButtonWithBlockCheck.react"),{thread:a}):k.jsxs(k.Fragment,{children:[k.jsx(m,{addEndMargin:e&&f,isMuted:e}),k.jsx(n,{isUnread:f})]})}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),226);
__d("IGDThreadListItemSubtitle.react",["fbt","IGDPresenceTextForCanonicalThread","IGDPresenceTextForGroupThread.react","IGDPresenceTextForThread.react","IGDSBox.react","IGDThreadListItemTypingIndicatorTextSubtitle.react","IGDThreadSnippet.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={content:{height:"xmix8c7",width:"xh8yej3",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(11),e=a.isRestricted,f=a.isUnread,g=a.lastMessageTimestamp,i=a.presenceState,k=a.snippet,l=a.thread;a=a.threadListItemTypingInfo;if(e){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("IGDThreadSnippet.react"),{snippet:h._(/*BTDS*/"__JHASH__3z_LKwxjv6x__JHASH__").toString()}),b[0]=e):e=b[0];return e}if(((e=a==null?void 0:a.numberOfTypings)!=null?e:0)>0){b[1]!==f||b[2]!==l||b[3]!==a?(e=j.jsx(c("IGDThreadListItemTypingIndicatorTextSubtitle.react"),{isUnread:f,thread:l,typingInfo:a}),b[1]=f,b[2]=l,b[3]=a,b[4]=e):e=b[4];return e}l=!1;if(i.threadType==="canonical"){a=d("IGDPresenceTextForCanonicalThread").getCanonicalPresenceData(i.state);l=a.state==="inactive"}else if(i.threadType==="group"){e=d("IGDPresenceTextForGroupThread.react").getGroupPresenceData(i.state);l=e.state==="inactive"}if(l||f&&k!=null){b[5]!==f||b[6]!==g||b[7]!==k?(a=j.jsx(c("IGDThreadSnippet.react"),{isUnread:f,lastMessageTimestamp:g,snippet:k}),b[5]=f,b[6]=g,b[7]=k,b[8]=a):a=b[8];return a}b[9]!==i?(e=j.jsx(c("IGDThreadSnippet.react"),{snippet:j.jsx(c("IGDPresenceTextForThread.react"),{presenceState:i})}),b[9]=i,b[10]=e):e=b[10];return e}function a(a){var b=d("react-compiler-runtime").c(9),e=a.isRestricted,f=a.isUnread,g=a.lastMessageTimestamp,h=a.presenceState,i=a.snippet,m=a.thread;a=a.threadListItemTypingInfo;e=e===void 0?!1:e;var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x6s0dn4 x78zum5"},b[0]=n):n=b[0];b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h||b[5]!==i||b[6]!==m||b[7]!==a?(n=j.jsx("div",babelHelpers["extends"]({},n,{children:j.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",xstyle:k.content,children:j.jsx(l,{isRestricted:e,isUnread:f,lastMessageTimestamp:g,presenceState:h,snippet:i,thread:m,threadListItemTypingInfo:a})})})),b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=i,b[6]=m,b[7]=a,b[8]=n):n=b[8];return n}g["default"]=a}),226);
__d("IGDThreadListItem.react",["CometPlaceholder.react","I64","IGDAvatar.react","IGDChatTabsEnv","IGDChatTabsQPLInstanceKeyContext.react","IGDIsCompactModeContext.react","IGDListCell.react","IGDListCellSelectedContext.react","IGDNavigation","IGDProfessionalInboxFeatureGatingUtil","IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","IGDThreadListItemContext.react","IGDThreadListItemEnd.react","IGDThreadListItemLabelsWrapper.react","IGDThreadListItemSubtitle.react","IGDThreadListNewMessageLoggingDataContext","IGDWellBeingUtils","Int64Hooks","JSResourceForInteraction","LSIntEnum","LSInternalBadge.react","LSThreadTitle.react","LSVerificationBadge.react","MAWGroupInvitesForThread","MWPActor.react","MWThreadListFocusableTable.react","MWVerticalRhythm","MessengerWebUXLogger","PolarisDirectConstants","PolarisUA","QuickPerformanceLogger","Random","ReQL","asyncToGeneratorRuntime","emptyFunction","getContactsFromParticipants","getInstamadilloLoggingExtraData","isGroupInvitesEnabled","promiseDone","qpl","react","react-compiler-runtime","shallowEqualI64","useAsyncReStore","useCometLazyDialog","useIGDBlockedRestrictedUserInterstitial","useIGDTypingIndicatorOnThread","useIsThreadSelected","useMWPPreloadThread","useStableCallback","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;e.useMemo;var m=e.useRef,n=c("JSResourceForInteraction")("IGDGroupInvitesDialog.react").__setRef("IGDThreadListItem.react"),o={chatTabCell:{width:"xi55695",$$css:!0},inboxCell:{width:"xxsgkw5",$$css:!0}};function p(a){var b=d("react-compiler-runtime").c(19);a=a.thread;var e;b[0]!==a?(e=l.jsx(u,{children:l.jsx(c("LSThreadTitle.react"),{thread:a})}),b[0]=a,b[1]=e):e=b[1];var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),b[2]=f):f=b[2];b[3]!==a.threadKey?(f=l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("LSVerificationBadge.react"),{icon:f,threadKey:a.threadKey})}),b[3]=a.threadKey,b[4]=f):f=b[4];var g;b[5]!==a?(g=l.jsx(c("IGDSBox.react"),{marginStart:1,children:l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("LSInternalBadge.react"),{thread:a})})}),b[5]=a,b[6]=g):g=b[6];var h;b[7]!==e||b[8]!==f||b[9]!==g?(h=l.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",width:244,children:[e,f,g]}),b[7]=e,b[8]=f,b[9]=g,b[10]=h):h=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("MWVerticalRhythm"),{height:8}),b[11]=e):e=b[11];b[12]!==a?(f=l.jsx(v,{thread:a}),g=l.jsx(w,{thread:a}),b[12]=a,b[13]=f,b[14]=g):(f=b[13],g=b[14]);b[15]!==h||b[16]!==f||b[17]!==g?(a=l.jsxs(l.Fragment,{children:[h,e,f,g]}),b[15]=h,b[16]=f,b[17]=g,b[18]=a):a=b[18];return a}function q(a){var e=d("react-compiler-runtime").c(59),f=a.hoverStateVisible,g=a.thread;a=d("IGDNavigation").useIGDNavigation();var i=c("useStableCallback")(a.openTabOrInbox),q=d("IGDChatTabsEnv").useIsChatTabsDisplay(),u=c("useIGDBlockedRestrictedUserInterstitial")(g.threadKey,d("PolarisDirectConstants").DirectGroupDialog.BLOCK),v=c("useIGDBlockedRestrictedUserInterstitial")(g.threadKey,d("PolarisDirectConstants").DirectGroupDialog.RESTRICT);e[0]!==g.parentThreadKey?(a=(j||(j=d("I64"))).equal(g.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(-1)),e[0]=g.parentThreadKey,e[1]=a):a=e[1];var w=a;e[2]!==g.parentThreadKey?(a=(j||(j=d("I64"))).equal(g.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(-3)),e[2]=g.parentThreadKey,e[3]=a):a=e[3];var z=a;e[4]!==g.parentThreadKey?(a=(j||(j=d("I64"))).equal(g.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(-16)),e[4]=g.parentThreadKey,e[5]=a):a=e[5];var A=a,B=c("useAsyncReStore")();a=c("useCometLazyDialog")(n);var C=a[0];a=c("useMWPPreloadThread")(g.threadKey,!1,!1);var D=a.onHoverInPreloader,E=a.onHoverOutPreloader,F=a.onPressInPreloader,G=m(!1),H=d("MWPActor.react").useActor();a=d("IGDIsCompactModeContext.react").useIsCompactMode();var I;e[6]!==a||e[7]!==g?(I=a?void 0:l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("IGDThreadListItemEnd.react"),{thread:g})}),e[6]=a,e[7]=g,e[8]=I):I=e[8];I=I;var J;e[9]!==a||e[10]!==g?(J=a?void 0:l.jsx(p,{thread:g}),e[9]=a,e[10]=g,e[11]=J):J=e[11];J=J;var K=c("MessengerWebUXLogger").useInteractionLogger(),L=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),M=d("IGDChatTabsQPLInstanceKeyContext.react").useIGDChatTabsQPLInstanceKeyContext(),N;e[12]!==g?(N=c("getInstamadilloLoggingExtraData")(g),e[12]=g,e[13]=N):N=e[13];var O=N;e[14]!==O?(N=babelHelpers["extends"]({},O),e[14]=O,e[15]=N):N=e[15];var P;e[16]!==L||e[17]!==N?(P={eventName:"thread_list_rendered",extraData:N,flowInstanceId:L},e[16]=L,e[17]=N,e[18]=P):P=e[18];e[19]!==q||e[20]!==M?(N=function(){q&&(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(882771984,"2789"),2,M.threadListKey)},e[19]=q,e[20]=M,e[21]=N):N=e[21];P=c("MessengerWebUXLogger").useImpressionLoggerRef(P,N);var Q;e[22]!==H||e[23]!==B||e[24]!==L||e[25]!==O||e[26]!==q||e[27]!==z||e[28]!==A||e[29]!==w||e[30]!==K||e[31]!==F||e[32]!==i||e[33]!==M||e[34]!==u||e[35]!==C||e[36]!==v||e[37]!==g.threadKey||e[38]!==g.threadType?(N=function(a){K==null?void 0:K({eventName:"thread_open",extraData:babelHelpers["extends"]({},O),flowInstanceId:L});if(q){var e=(j||(j=d("I64"))).to_string(g.threadKey),f=M.threadViewKeys[e]==null,k=d("Random").uint32();M.setThreadViewKey(e,k);(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(882771792,"2790"),k);h.markerAnnotate(c("qpl")._(882771792,"2790"),{bool:{isFirstLoad:f},string:{trigger:"thread_list_item"}},{instanceKey:k})}e=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield B),e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.threads).getKeyRange(g.threadKey)));if(e==null)return;G.current||F(y(a));var f=d("MAWGroupInvitesForThread").isGroupInviteThread(e);if(c("isGroupInvitesEnabled")()&&f)C({thread:e},s);else{f=(yield c("getContactsFromParticipants")(b,H,g.threadKey));b=d("IGDWellBeingUtils").hasBlockedUsers(f);f=d("IGDWellBeingUtils").hasRestrictedUsers(f);var h=function(){i({clientThreadKey:e.clientThreadKey,threadKey:g.threadKey,threadType:g.threadType},w?"pendingRequests":z?"inboxSpam":A?"partnershipInbox":q?"igdChatTabsThreadList":"inboxThreadList",void 0,void 0,void 0,void 0)};!b&&!f?h():b&&f?(yield v(r),yield u(function(){h()})):b?yield u(function(){h()}):yield v(function(){h()})}});return function(){return e.apply(this,arguments)}}();c("promiseDone")(e())},Q=[K,O,L,q,g.threadKey,g.threadType,M,B,F,C,H,i,w,z,A,v,u],e[22]=H,e[23]=B,e[24]=L,e[25]=O,e[26]=q,e[27]=z,e[28]=A,e[29]=w,e[30]=K,e[31]=F,e[32]=i,e[33]=M,e[34]=u,e[35]=C,e[36]=v,e[37]=g.threadKey,e[38]=g.threadType,e[39]=N,e[40]=Q):(N=e[39],Q=e[40]);N=d("Int64Hooks").useCallbackInt64(N,Q);e[41]!==g?(Q=l.jsx(x,{thread:g}),e[41]=g,e[42]=Q):Q=e[42];var R;e[43]!==D?(R=function(a){G.current=!0,D(a)},e[43]=D,e[44]=R):R=e[44];var S=d("PolarisUA").isMobile()||q?"small":"large";a=q?o.chatTabCell:!a&&!d("PolarisUA").isMobile()?o.inboxCell:null;var T;e[45]!==I||e[46]!==J||e[47]!==f||e[48]!==P||e[49]!==E||e[50]!==N||e[51]!==Q||e[52]!==R||e[53]!==S||e[54]!==a?(T=l.jsx(c("IGDListCell.react"),{addOnEnd:I,addOnStart:Q,content:J,hoverStateVisible:f,noopOnPressWhenSelected:!0,onHoverIn:R,onHoverOut:E,onPress:N,ref:P,role:"row",size:S,testid:void 0,xstyle:a}),e[45]=I,e[46]=J,e[47]=f,e[48]=P,e[49]=E,e[50]=N,e[51]=Q,e[52]=R,e[53]=S,e[54]=a,e[55]=T):T=e[55];e[56]!==T||e[57]!==g.threadKey?(I=l.jsx(t,{threadKey:g.threadKey,children:T}),e[56]=T,e[57]=g.threadKey,e[58]=I):I=e[58];return I}function r(){}function s(){}function t(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.threadKey;a=d("useIsThreadSelected").useIsThreadSelected(a);var e;b[0]!==c||b[1]!==a?(e=l.jsx(d("IGDListCellSelectedContext.react").IGDListCellSelectedContextProvider,{selected:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function u(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e=d("IGDThreadListItemContext.react").useIGDThreadListItemIsUnread();e=e?"semibold":"normal";var f;b[0]!==a||b[1]!==e?(f=l.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:1,size:"body",weight:e,children:a}),b[0]=a,b[1]=e,b[2]=f):f=b[2];return f}function v(a){var b=d("react-compiler-runtime").c(7);a=a.thread;var e=d("IGDThreadListItemContext.react").useIGDThreadListItemIsUnread(),f=d("IGDThreadListItemContext.react").useIGDThreadListItemActivity(),g=f.lastActivityTimestampMs,h=f.presenceState;f=f.snippet;var i=c("useIGDTypingIndicatorOnThread")(a.threadKey),j;b[0]!==e||b[1]!==g||b[2]!==h||b[3]!==f||b[4]!==a||b[5]!==i?(j=l.jsx(c("IGDThreadListItemSubtitle.react"),{isUnread:e,lastMessageTimestamp:g,presenceState:h,snippet:f,thread:a,threadListItemTypingInfo:i}),b[0]=e,b[1]=g,b[2]=h,b[3]=f,b[4]=a,b[5]=i,b[6]=j):j=b[6];return j}function w(a){var b=d("react-compiler-runtime").c(4);a=a.thread;var e=d("IGDProfessionalInboxFeatureGatingUtil").useCurrentUserIsProfessionalAccount(),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("IGDProfessionalInboxFeatureGatingUtil").isCurrentUserEligibleForAdInuiryLabelExperiment(),b[0]=f):f=b[0];f=f;b[1]!==e||b[2]!==a?(f=e&&(f||d("IGDProfessionalInboxFeatureGatingUtil").isCurrentUserEligibleForHighIntentLabelTargetingGK)?l.jsx(c("IGDThreadListItemLabelsWrapper.react"),{thread:a}):l.jsx(l.Fragment,{}),b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}function x(a){var b=d("react-compiler-runtime").c(3);a=a.thread;var e=d("IGDThreadListItemContext.react").useIGDThreadListItemActivity();e=e.isActive;var f;b[0]!==e||b[1]!==a?(f=l.jsx(c("IGDAvatar.react"),{isActive:e,size:"large",thread:a}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}function a(a){var b=d("react-compiler-runtime").c(22);a=a.thread;d("IGDNavigation").usePreloadRoute(a.threadKey,a.threadSubtype);var c;b[0]!==a.capabilities||b[1]!==a.capabilities2||b[2]!==a.capabilities3||b[3]!==a.capabilities4||b[4]!==a.capabilities5||b[5]!==a.parentThreadKey||b[6]!==a.threadKey||b[7]!==a.threadName||b[8]!==a.threadPictureUrl||b[9]!==a.threadPictureUrlExpirationTimestampMs||b[10]!==a.threadPictureUrlFallback||b[11]!==a.threadSubtype||b[12]!==a.threadType?(c={capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,capabilities5:a.capabilities5,parentThreadKey:a.parentThreadKey,threadKey:a.threadKey,threadName:a.threadName,threadPictureUrl:a.threadPictureUrl,threadPictureUrlExpirationTimestampMs:a.threadPictureUrlExpirationTimestampMs,threadPictureUrlFallback:a.threadPictureUrlFallback,threadSubtype:a.threadSubtype,threadType:a.threadType},b[0]=a.capabilities,b[1]=a.capabilities2,b[2]=a.capabilities3,b[3]=a.capabilities4,b[4]=a.capabilities5,b[5]=a.parentThreadKey,b[6]=a.threadKey,b[7]=a.threadName,b[8]=a.threadPictureUrl,b[9]=a.threadPictureUrlExpirationTimestampMs,b[10]=a.threadPictureUrlFallback,b[11]=a.threadSubtype,b[12]=a.threadType,b[13]=c):c=b[13];c=d("useStableValue").useStableValue(c,d("shallowEqualI64").shallowEqualI64);var e;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("PolarisUA").isDesktop(),b[14]=e):e=b[14];b[15]!==c?(e=l.jsx(q,{hoverStateVisible:e,thread:c}),b[15]=c,b[16]=e):e=b[16];c=e;e=c;b[17]!==e?(c=l.jsx(d("IGDThreadListNewMessageLoggingDataContext").IGDThreadListNewMessageLoggingContextProvider,{children:l.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:l.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:e})})}),b[17]=e,b[18]=c):c=b[18];b[19]!==c||b[20]!==a?(e=l.jsx(d("IGDThreadListItemContext.react").IGDThreadListItemContextProvider,{thread:a,children:c}),b[19]=c,b[20]=a,b[21]=e):e=b[21];return e}function y(a){return{altKey:!1,buttons:0,clientX:0,clientY:0,ctrlKey:!1,defaultPrevented:!1,metaKey:!1,pageX:0,pageY:0,pointerType:"mouse",preventDefault:c("emptyFunction"),screenX:0,screenY:0,shiftKey:!1,stopPropagation:c("emptyFunction"),target:a.target,timeStamp:0,type:"pressend",x:0,y:0}}g["default"]=a}),98);
__d("MWSetupPresenceReportingDeferred.react",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MWSetupPresenceReporting.react").__setRef("MWSetupPresenceReportingDeferred.react"));function a(){return i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWSetupPresenceReportingDeferred",children:i.jsx(j,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);